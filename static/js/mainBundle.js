!function (e) { var t = {}; function n(o) { if (t[o]) return t[o].exports; var r = t[o] = { i: o, l: !1, exports: {} }; return e[o].call(r.exports, r, r.exports, n), r.l = !0, r.exports } n.m = e, n.c = t, n.d = function (e, t, o) { n.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: o }) }, n.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, n.t = function (e, t) { if (1 & t && (e = n(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var o = Object.create(null); if (n.r(o), Object.defineProperty(o, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var r in e) n.d(o, r, function (t) { return e[t] }.bind(null, r)); return o }, n.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return n.d(t, "a", t), t }, n.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, n.p = "", n(n.s = 1) }([function (e, t, n) { "use strict"; e.exports = function (e) { var t = []; return t.toString = function () { return this.map((function (t) { var n = function (e, t) { var n = e[1] || "", o = e[3]; return o ? t && "function" == typeof btoa ? (e = function (e) { return e = btoa(unescape(encodeURIComponent(JSON.stringify(e)))), e = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e), "/*# ".concat(e, " */") }(o), t = o.sources.map((function (e) { return "/*# sourceURL=".concat(o.sourceRoot || "").concat(e, " */") })), [n].concat(t).concat([e]).join("\n")) : [n].join("\n") : n }(t, e); return t[2] ? "@media ".concat(t[2], " {").concat(n, "}") : n })).join("") }, t.i = function (e, n, o) { "string" == typeof e && (e = [[null, e, ""]]); var r = {}; if (o) for (var i = 0; i < this.length; i++) { var a = this[i][0]; null != a && (r[a] = !0) } for (var s = 0; s < e.length; s++) { var c = [].concat(e[s]); o && r[c[0]] || (n && (c[2] ? c[2] = "".concat(n, " and ").concat(c[2]) : c[2] = n), t.push(c)) } }, t } }, function (e, t, n) { n(2), e.exports = n(5) }, function (e, t, n) { var o = n(3), r = n(4); n = { insert: "head", singleton: !1 }; o(r = "string" == typeof (r = r.__esModule ? r.default : r) ? [[e.i, r, ""]] : r, n), e.exports = r.locals || {} }, function (e, t, n) { "use strict"; var o, r, i = (r = {}, function (e) { if (void 0 === r[e]) { var t = document.querySelector(e); if (window.HTMLIFrameElement && t instanceof window.HTMLIFrameElement) try { t = t.contentDocument.head } catch (e) { t = null } r[e] = t } return r[e] }), a = []; function s(e) { for (var t = -1, n = 0; n < a.length; n++)if (a[n].identifier === e) { t = n; break } return t } function c(e, t) { for (var n = {}, o = [], r = 0; r < e.length; r++) { var i = e[r], c = t.base ? i[0] + t.base : i[0], u = n[c] || 0, f = "".concat(c, " ").concat(u); n[c] = u + 1, u = s(f), i = { css: i[1], media: i[2], sourceMap: i[3] }, -1 !== u ? (a[u].references++, a[u].updater(i)) : a.push({ identifier: f, updater: function (e, t) { var n, o, r, i; return r = t.singleton ? (i = m++, n = p = p || l(t), o = d.bind(null, n, i, !1), d.bind(null, n, i, !0)) : (n = l(t), o = function (e, t, n) { var o = n.css, r = n.media; n = n.sourceMap; if (r ? e.setAttribute("media", r) : e.removeAttribute("media"), n && "undefined" != typeof btoa && (o += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n)))), " */")), e.styleSheet) e.styleSheet.cssText = o; else { for (; e.firstChild;)e.removeChild(e.firstChild); e.appendChild(document.createTextNode(o)) } }.bind(null, n, t), function () { !function (e) { null !== e.parentNode && e.parentNode.removeChild(e) }(n) }), o(e), function (t) { t ? t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap || o(e = t) : r() } }(i, t), references: 1 }), o.push(f) } return o } function l(e) { var t, o = document.createElement("style"), r = e.attributes || {}; if (void 0 !== r.nonce || (t = n.nc) && (r.nonce = t), Object.keys(r).forEach((function (e) { o.setAttribute(e, r[e]) })), "function" == typeof e.insert) e.insert(o); else { if (!(e = i(e.insert || "head"))) throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid."); e.appendChild(o) } return o } var u, f = (u = [], function (e, t) { return u[e] = t, u.filter(Boolean).join("\n") }); function d(e, t, n, o) { n = n ? "" : o.media ? "@media ".concat(o.media, " {").concat(o.css, "}") : o.css, e.styleSheet ? e.styleSheet.cssText = f(t, n) : (o = document.createTextNode(n), (n = e.childNodes)[t] && e.removeChild(n[t]), n.length ? e.insertBefore(o, n[t]) : e.appendChild(o)) } var p = null, m = 0; e.exports = function (e, t) { (t = t || {}).singleton || "boolean" == typeof t.singleton || (t.singleton = o = void 0 === o ? Boolean(window && document && document.all && !window.atob) : o); var n = c(e = e || [], t); return function (e) { if (e = e || [], "[object Array]" === Object.prototype.toString.call(e)) { for (var o = 0; o < n.length; o++) { var r = s(n[o]); a[r].references-- } e = c(e, t); for (var i = 0; i < n.length; i++) { var l = s(n[i]); 0 === a[l].references && (a[l].updater(), a.splice(l, 1)) } n = e } } } }, function (e, t, n) { "use strict"; n.r(t); var o = n(0); (o = n.n(o)()(!1)).push([e.i, '.plus-icon{width:40px!important;height:40px!important;color:#fff}.widget-box{padding:4px 2px 2px;background:#add8e6;border-radius:0 50px 50px 0;box-shadow:3px 3px 6px -3px #000;cursor:pointer;z-index:100000;left:0;opacity:.9;font-size:13px;box-sizing:content-box}.plus-widget-continer{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-between;justify-content:space-between}.annoflow-tooltip{cursor:pointer;background:#000;padding:10px;border-radius:6px;color:#fff;position:relative;left:-20px}.annoflow-tooltip:before{content:" ";position:absolute;top:50%;right:100%;margin-top:-5px;border:5px solid transparent;border-right-color:#000}.annoflow-tooltip{-webkit-animation:myfirst 2s infinite;animation:myfirst 2s infinite;-webkit-animation-direction:alternate;animation-direction:alternate}@-webkit-keyframes myfirst{0%{left:-20px}50%{left:20px}to{left:-20px}}@keyframes myfirst{0%{left:-20px}50%{left:20px}to{left:-20px}}.widget-box:hover{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;opacity:1}-webkit-keyframes rotateIn{0%{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:rotate(-3deg);transform:rotate(-3deg)}to{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:none;transform:none}}@-webkit-keyframes rotateIn{0%{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:rotate(-200deg);transform:rotate(-200deg)}to{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:none;transform:none}}@keyframes rotateIn{0%{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:rotate(-200deg);transform:rotate(-200deg)}to{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:none;transform:none}}.over{border:1px dashed #000}.comment-box{box-shadow:3px 3px 15px -3px #000;width:300px;background:#fff;padding:10px;border-radius:10px;z-index:1000000000000}.comments-container{max-height:200px}.comment-box.left{right:0;top:0;position:absolute}.comment-box.left.up,.comment-box.up{right:0;position:absolute;top:-100px}.comment-box.right.up{left:0;position:absolute;top:-100px}.comment-container{color:#000!important;border-bottom:solid;border-color:#add8e6;border-width:1px;padding:4px;margin:10px 0}.user-container{display:-webkit-flex;display:flex;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;align-items:center}.user-name{opacity:.6}.profile-image{border-radius:50%}.name-comment{margin-left:10px;font-size:14px}.dialog-box{box-shadow:3px 3px 15px -3px #000;width:300px;background:#fff;padding:10px;border-radius:10px;z-index:1000000000000;position:relative;top:20px}.dialog-box.left{right:300px}.dialog-box.left.up{right:0;position:absolute;top:-200px}.dialog-box.right.up{left:0}.dialog-box.right.up,.dialog-box.up{position:absolute;top:-200px}.comments-container{max-height:300px;overflow:auto;margin-bottom:10px}.buttons-container{display:-webkit-flex;display:flex;-webkit-justify-content:flex-end;justify-content:flex-end}.add-file-button{font-size:12px;margin-left:10px}.submit-button{margin-top:10px;display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;-webkit-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;color:#fff;background-color:#17a2b8}.submit-button[disabled]{background:#d3d3d3;color:#fff;border-width:0}.cancel-button{margin-top:10px;display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;-webkit-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;color:#000}.cacel-button:hover{color:#fff;background-color:red}.comment-textarea{color:#000;background:#fff!important;width:100%;max-width:300px;padding:8px;border-radius:5px;resize:vertical;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;box-sizing:border-box;font-size:13.3333px;font-family:Helvetica,Arial,sans-serif;border:0 solid #ced4da;resize:none}.comment-textarea:focus{color:#495057;background-color:#fff!important;border-color:#80bdff;border-width:0!important;outline:0}.buttons-box-left{-webkit-justify-content:space-between;justify-content:space-between}.buttons-box,.buttons-box-left{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center}.buttons-box{-webkit-justify-content:flex-end;justify-content:flex-end;cursor:pointer}.file{opacity:0;width:.1px;height:.1px;position:absolute}.file-input label{display:block;position:relative;width:200px;height:50px;border-radius:25px;background:linear-gradient(40deg,#ff6ec4,#7873f5);box-shadow:0 4px 7px rgba(0,0,0,.4);display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;color:#fff;font-weight:700;cursor:pointer;transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out}.file-name{position:absolute;bottom:-35px;left:10px;font-size:.85rem;color:#555}.file-box{max-width:150px;margin-top:10px}.App{-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:space-around;justify-content:space-around;font-size:16px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";position:relative}.App,.dot{display:-webkit-flex;display:flex}.dot{background-color:#add8e6;-webkit-flex-direction:column;flex-direction:column;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;color:#000;font-size:13px;width:20px;height:20px;border-radius:17px;padding:4px;box-sizing:content-box;border:2px solid #fff;box-shadow:5px 5px 15px 5px rgba(0,0,0,.59)}.dot:focus{background-color:red!important;transition:height .25s ease,width .25s ease;-webkit-transform:translate(0);transform:translate(0)}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}.dot:focus:after,.dot:focus:before{content:"";display:block;position:absolute;top:0;right:0;bottom:0;left:0;border-radius:50%;border:1px solid red}.dot:focus:before{-webkit-animation:ripple 2s linear infinite;animation:ripple 2s linear infinite}.dot:focus:after{-webkit-animation:ripple 2s linear 1s infinite;animation:ripple 2s linear 1s infinite}@-webkit-keyframes ripple{0%{-webkit-transform:scale(1)}75%{-webkit-transform:scale(1.75);opacity:1}to{-webkit-transform:scale(2);opacity:0}}@keyframes ripple{0%{-webkit-transform:scale(1);transform:scale(1)}75%{-webkit-transform:scale(1.75);transform:scale(1.75);opacity:1}to{-webkit-transform:scale(2);transform:scale(2);opacity:0}}', ""]), t.default = o }, function (e, t) { (this["webpackJsonpdots-client"] = this["webpackJsonpdots-client"] || []).push([[0], { 31: function (e, t, n) { }, 54: function (e, t, n) { }, 55: function (e, t, n) { }, 56: function (e, t, n) { }, 57: function (e, t, n) { }, 58: function (e, t, n) { }, 59: function (e, t, n) { "use strict"; function o(e) { window.parent.postMessage(e, "*") } function r(e, t) { _[e] ? _[e].push(t) : _[e] = [t] } function i(e) { e.changeAllDotsPosition; var t = e.reset, n = Object(w.useState)(!1), i = ((e = Object(I.a)(n, 2))[0], e[1]), a = (n = Object(w.useState)(!0), n = (e = Object(I.a)(n, 2))[0], e[1]); Object(w.useEffect)((function () { r("userInfo", s) }), []); var s = function e(t) { var n, o; o = e, !_[n = "userInfo"] || -1 !== (o = (n = _[n]).indexOf(o)) && (n[o] = function () { }), i("1" === t.returnUser) }; return Object(T.jsxs)("div", { dir: "ltr", className: "plus-widget-continer", children: [Object(T.jsx)("div", { className: "widget-box", onClick: function () { o("toggle"), i(!1), setTimeout((function () { a((function (e) { return !e })) }), 1500), setTimeout((function () { t(!0) }), 1500) }, children: Object(T.jsx)(S.a, { height: "40px", width: "40px", icon: n ? C.a : C.b, className: "plus-icon" }) }), !1] }) } function a(e) { var t = e.comments; e = e.openPos; return Object(T.jsx)("div", { className: "comment-box ".concat(e), children: Object(T.jsx)("div", { className: "comments-container", children: t && t.map((function (e) { return Object(T.jsx)(U, { content: e.content, author: e.author, color: e.color, authorImageUrl: e.authorImageUrl }) })) }) }) } function s(e) { var t = e.onSubmit, n = void 0 === (c = e.comments) ? [] : c, o = e.submitCallback, r = e.onSubmitReturn, i = void 0 === (l = e.authorName) ? "Anonymous" : l, a = void 0 === (d = e.authorImageUrl) ? "" : d, s = e.onClose, c = e.openPos, l = Object(w.useState)(""), u = (d = Object(I.a)(l, 2))[0], f = d[1], d = (e = Object(w.useState)(!0), (l = Object(I.a)(e, 2))[0]), p = (e = (l[1], Object(w.useState)(!1)), e = (l = Object(I.a)(e, 2))[0], l[1]), m = (l = Object(w.useState)(""), (l = Object(I.a)(l, 2))[0]), b = l[1]; return Object(T.jsxs)("div", { className: "dialog-box ".concat(c), dir: "ltr", "data-allow": "true", children: [Object(T.jsx)("div", { className: "comments-container", children: n && n.map((function (e) { return Object(T.jsx)(U, { content: null == e ? void 0 : e.content, author: null == e ? void 0 : e.authorName, color: null == e ? void 0 : e.color, authorImageUrl: null == e ? void 0 : e.authorImageUrl }) })) }), d && !n.length ? Object(T.jsxs)(T.Fragment, { children: [Object(T.jsx)("textarea", { className: "comment-textarea", placeholder: "Add a comment...", rows: "3", onChange: function (e) { f(e.target.value) } }), Object(T.jsxs)("div", { className: "buttons-box-left", children: [e ? Object(T.jsx)(M, { setFile: function (e) { return b(e) } }) : Object(T.jsx)("div", { className: "add-file-button", "data-allow": "true", style: { marginTop: "10px" }, onClick: function () { p(!0) }, children: "Add file..." }), Object(T.jsxs)("div", { className: "buttons-box", children: [Object(T.jsx)("div", { className: "cancel-button", disabled: !u, onClick: function () { s() }, "data-allow": "true", children: "Cancel" }), Object(T.jsx)("div", { className: "submit-button", disabled: !u, onClick: function () { u && (o([{ content: u, authorName: i, authorImageUrl: a, file: m }]), t({ comment: u, authorName: i, authorImageUrl: a, file: m }, r)) }, "data-allow": "true", children: "Post" })] })] })] }) : null] }) } function c(e, t) { P !== e && (console.log("url change"), t(), o({ type: "change-state" }), P = e), setTimeout((function () { c(window.location.href, t) }), 1e3) } function l(e, t) { if (!e.target.getAttribute("data-widget") && !e.target.closest(".widget-box")) return t(e), e.target.getAttribute("data-allow") || (e.stopPropagation(), e.preventDefault()), !1; window.document.removeEventListener("click", l) } function u(e) { return z = z || function (t) { if (!t.target.getAttribute("data-widget") && !t.target.closest(".widget-box")) return e(t), t.target.getAttribute("data-allow") || (t.stopPropagation(), t.preventDefault()), !1; window.document.removeEventListener("click", l) } } function f(e) { (e = window.document.getElementById(e.id)) && (B(!0), e.scrollIntoView({ behavior: "smooth", block: "center", inline: "center" }), e.focus(), setTimeout((function () { B(!1) }), 500)) } n.r(t); var d, p, m, b = n(8), h = n(4), g = n.n(h), x = n(6), w = n(1), v = n.n(w), y = n(11), j = n.n(y), k = (t = (n(31), function (e) { e && e instanceof Function && n.e(3).then(n.bind(null, 61)).then((function (t) { var n = t.getCLS, o = t.getFID, r = t.getFCP, i = t.getLCP; t = t.getTTFB; n(e), o(e), r(e), i(e), t(e) })) }), h = n(12), n.n(h)), O = (y = (m = Object(x.a)(g.a.mark((function e(t, n) { var o; return g.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return n.url = window.location.pathname, n.assignTo = "", e.next = 4, k()({ method: "post", url: "http://localhost:4000/public/dot/" + O(), data: n }); case 4: return o = e.sent, e.abrupt("return", o.data); case 6: case "end": return e.stop() } }), e) }))), function (e, t) { return m.apply(this, arguments) }), h = (p = Object(x.a)(g.a.mark((function e(t) { var n; return g.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, k.a.get("http://localhost:4000/public/dots/" + O()); case 2: return n = e.sent, e.abrupt("return", n.data); case 4: case "end": return e.stop() } }), e) }))), function (e) { return p.apply(this, arguments) }), function () { return new URLSearchParams(window.location.search).get("id") }), N = { sendPostRequest: y, getDots: h, saveFile: (d = Object(x.a)(g.a.mark((function e(t, n, o) { var r; return g.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.prev = 0, e.next = 3, k.a.post("http://localhost:4000/public/upload/" + n + "/" + o, t); case 3: return r = e.sent, console.log(r.statusText), e.abrupt("return", r.data.url); case 8: e.prev = 8, e.t0 = e.catch(0), console.log("err"); case 12: case "end": return e.stop() } }), e, null, [[0, 8]]) }))), function (e, t, n) { return d.apply(this, arguments) }) }, I = n(3), S = n(9), C = n(7), E = [], _ = {}, T = n(0), L = (n(54), n(25)), U = (n(55), function (e) { var t = e.content, n = e.author; e.color, e = e.authorImageUrl; return Object(T.jsx)("div", { className: "comment-container", children: Object(T.jsxs)("div", { className: "user-container", children: [Object(T.jsx)(L.a, { src: e || "https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_1280.png", className: "profile-image", width: "36px", height: "36px" }), Object(T.jsxs)("div", { className: "name-comment", children: [Object(T.jsx)("div", { className: "user-name", children: n }), Object(T.jsxs)("div", { className: "comment-text", children: [" ", t] })] })] }) }) }), M = (n(56), n(57), function (e) { e.onUrlSet, e.dotId; var t = e.setFile; return Object(T.jsx)("div", { className: "file-box", children: Object(T.jsx)("input", { type: "file", name: "file", onChange: function (e) { console.log(e.target.files[0]), t(e.target.files[0]) }, "data-allow": "true", className: "custom-file-input" }) }) }), P = "", z = !1, A = l, B = function () { }; function D(e) { "http://localhost:3000" === e.origin && "redirect" === e.data.type && e.data.url && window.location.pathname !== e.data.url && (window.location.pathname = e.data.url) } function F(e) { for (var t = e, n = 0, o = 0; null !== t;)o += K(t), n += Q(t), t = t.offsetParent || t.parentNode; return { left: o, top: n } } function H(e) { return e && void 0 !== e.offsetWidth ? e.offsetWidth : 0 } function R(e) { return e && void 0 !== e.offsetHeight ? e.offsetHeight : 0 } function W(e) { if (!e.data.active) return window.removeEventListener("click", oe, !0), ne(), te(!1), void o({ type: "iframe-state" }); ee(), te(!0), o({ type: "iframe-state" }), console.log("bind"), window.addEventListener("click", oe, !0) } function Y(e) { fe = e } function X(e) { de() } function q() { re = !0 } function V(e, t, n) { console.log(e, t); var o = ""; return e + 300 > n.scrollWidth ? o += " left" : e - 300 < 0 && (o += " right"), t - 300 < 0 ? o += " down" : t + 300 > n.scrollHeight && (o += " up"), o } function J(e) { var t, n, r, i, a, c, l; re && (t = e.pageX, n = e.pageY, r = function (e) { for (var t = e.path || e.composedPath && e.composedPath(), n = ((i = t[0]).offsetLeft, i.offsetTop, i.offsetHeight), o = i.offsetWidth, r = (e = (i.className, i.id), (i = function () { for (var e, n = t[0], o = 0, r = 0; null !== n;)r += (e = n) && void 0 !== e.offsetLeft ? e.offsetLeft : 0, o += (e = n) && void 0 !== e.offsetTop ? e.offsetTop : 0, n = n.offsetParent || n.parentNode; return { left: r, top: o } }()).left), i = i.top, a = 1; a < t.length;)n = n || t[a].offsetHeight, o = o || t[a].offsetWidth, a++; return { offsetLeft: r, offsetTop: i, offsetHeight: n, offsetWidth: o, className: "", elementId: e } }(e), i = document.getElementsByTagName("body")[0], (a = document.createElement("DIV")).style.position = "absolute", a.style.left = t + "px", a.style.top = n + "px", a.classList = ["root-dot"], a.style.zIndex = 1e5, i.appendChild(a), re = !1, l = Object(x.a)(g.a.mark((function a(s, c) { var l; return g.a.wrap((function (a) { for (; ;)switch (a.prev = a.next) { case 0: return re = !0, a.next = 3, N.sendPostRequest("", Object(b.a)(Object(b.a)(Object(b.a)({ posX: t + "px", posY: n + "px" }, r), s), {}, { author: s.authorName, email: ce, path: function (e) { for (var t = e.target, n = ""; t.parentNode;) { for (var o = t.parentNode, r = o.children, i = 0; i < r.length; i++)if (r[i] === t) { n += t.nodeName + "[" + i + "]/"; break } t = o } return n }(e), screenHeight: i.offsetHeight, screenWidth: i.offsetWidth })); case 3: l = a.sent, c(Object(b.a)(Object(b.a)({}, l), {}, { file: s.file })), se.push(l), o("pull"); case 7: case "end": return a.stop() } }), a) }))), c = function (e, t) { return l.apply(this, arguments) }, j.a.render(Object(T.jsx)(v.a.StrictMode, { children: Object(T.jsx)($, { setShouldRender: be, disableClickEvent: he, posX: t + "px", posY: n + "px", showBoxInit: !0, stickyDotInit: !1, onClose: q, dotNumber: se.length + 1, children: Object(T.jsx)(s, { disableClickEvent: he, onSubmit: c, dotId: "", authorName: ie, authorImageUrl: ae, openPos: V(t, n, i) }) }) }), a)) } setTimeout((function () { o({ type: "iframe-ready" }) }), 1e3); var Z, G, K = function (e) { return e && void 0 !== e.offsetLeft ? e.offsetLeft : 0 }, Q = function (e) { return e && void 0 !== e.offsetTop ? e.offsetTop : 0 }, $ = (n(58), function (e) { function t() { d(!1) } var n = e.showBoxInit, r = e.dotId, i = (e.url, e.stickyDotInit), a = e.children, s = e.onClose, c = e.comments, l = e.hideOnMouseLeave, u = (e.status, e.dotNumber), f = Object(w.useState)(n), d = (n = (e = Object(I.a)(f, 2))[0], e[1]), p = (f = Object(w.useState)(i), i = (e = Object(I.a)(f, 2))[0], e[1]), m = (f = Object(w.useState)(""), (e = Object(I.a)(f, 2))[0]), b = e[1], h = (f = Object(w.useState)(!1), (e = Object(I.a)(f, 2))[0]), g = e[1], x = (f = Object(w.useState)(c), c = (e = Object(I.a)(f, 2))[0], e[1]), y = (f = Object(w.useState)(""), f = (e = Object(I.a)(f, 2))[0], e[1]); e = Object(w.useRef)(null), c = v.a.cloneElement(a, { submitCallback: function (e) { x(e), p(!0), d(!1), g(!0) }, onSubmitReturn: function (e) { var t; null != e && e.file && ((t = new FormData).append("file", e.file), N.saveFile(t, e.projectId, e._id)), b(e._id) }, onClose: function () { s(), t(), p(!1) }, comments: c }); return Object(T.jsxs)("div", { className: "App", ref: e, onMouseLeave: function (e) { (l || h) && (t(), e.target.closest(".root-dot").style.zIndex = 1e5) }, tabindex: "0", dir: "ltr", onFocus: function () { y("focus") }, children: [i ? Object(T.jsx)("div", { className: "dot " + f, onMouseOver: function (e) { return e = e, o({ id: r }), e.target.closest(".root-dot").style.zIndex = 2e5, void d(!0) }, tabindex: "0", id: "".concat(r || m), onClick: function (e) { o({ type: "openDot", id: r || m }) }, children: u }) : null, n ? c : null] }) }), ee = function () { for (var e = window.document.getElementsByTagName("iframe"), t = 0; t < e.length; t++)e[t].style.pointerEvents = "none" }, te = function (e) { window.document.getElementsByTagName("body")[0].style.cursor = e ? "crosshair" : "default" }, ne = function () { for (var e = window.document.getElementsByTagName("iframe"), t = 0; t < e.length; t++)e[t].style.pointerEvents = "all" }, oe = function (e) { e.isTrusted && u()(e) }, re = !0, ie = "Anonymous", ae = "", se = [], ce = "", le = "active", ue = null, fe = !1, de = (G = Object(x.a)(g.a.mark((function e(t) { var n, o, r; return g.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: for (o = window.document.getElementsByClassName("root-dot"); 0 < o.length;)(r = o[0]).remove ? r.remove() : r.parentNode.removeChild(r); if (!t) { e.next = 6; break } n = se, e.next = 10; break; case 6: return e.next = 8, N.getDots(); case 8: n = e.sent, se = n; case 10: pe(n); case 11: case "end": return e.stop() } }), e) }))), function (e) { return G.apply(this, arguments) }), pe = (y = (Z = Object(x.a)(g.a.mark((function e() { return g.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: r("userInfo", xe), r("reset", X), window.document.addEventListener("DOMContentLoaded", Object(x.a)(g.a.mark((function e() { var t; return g.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return B = Y, r("on-dot", f), window.addEventListener("message", D, !1), P = window.location.href, c(window.location.href, de), W({ data: { active: !0 } }), r("comment-mode-toggle", W), a = n = void 0, n = document.getElementsByTagName("body")[0], (a = document.createElement("DIV")).style.position = "fixed", a.style.zIndex = 1e5, a.style.left = 0, a.style.top = "50%", a.style.transform = "translateY(-50%)", n.appendChild(a), j.a.render(Object(T.jsx)(v.a.StrictMode, { children: Object(T.jsx)(i, { createADot: J, reset: de, returnUser: ue }) }), a), e.next = 7, N.getDots(); case 7: t = e.sent, se = t, o({ type: "reset-state" }), pe(t), o({ type: "client-ready" }); case 12: case "end": return e.stop() }var n, a }), e) })))); case 3: case "end": return e.stop() } }), e) }))), function () { return Z.apply(this, arguments) }), function (e) { re = !0; for (var t = 0; t < e.length; t++) { var n = e[t]; me(n) } }), me = function (e) { var t, n, r, i, s, c, l, u, f, d; e.url === window.location.pathname && (t = e.posX, n = e.posY, r = e.comments, i = e._id, s = e.url, c = e.status, l = e.dotNumber, u = document.getElementsByTagName("body")[0], (f = document.createElement("div")).style.position = "absolute", f.style.zIndex = 1e5, (d = function (e) { try { var t = e.path, n = 0, o = 0, r = 0, i = 0; if (!t) return; for (var a = t.split("/").reverse(), s = document.getElementsByTagName("body")[0], c = (d = 0, (f = a).map((function (e, t) { "BODY" === e.split("[")[0] && (d = t) })), f.splice(d + 1)), l = 0; l < c.length; l++)s = s.children[(u = c[l]).substring(u.lastIndexOf("[") + 1, u.lastIndexOf("]"))], n += K(s), o = H(s) ? H(s) : o, i = R(s) ? R(s) : i, r += Q(s); return { currentNode: s, offsetLeft: n, offsetWidth: o, offsetTop: r, offsetHeight: i } } catch (e) { return !1 } var u, f, d }(e)) || o({ id: i, type: "unSurePos" }), f.style.left = d ? function (e, t) { try { var n = F(t.currentNode), o = (Number(e.posX.split("p")[0]) - e.offsetLeft) / e.offsetWidth, r = t.currentNode.offsetWidth || t.offsetWidth; return n.left + r * o + "px" } catch (t) { return Number(e.posX.split("p")[0]) } }(e, d) : t, f.style.top = d ? function (e, t) { try { var n = F(t.currentNode), o = (Number(e.posY.split("p")[0]) - e.offsetTop) / e.offsetHeight, r = t.currentNode.offsetHeight || t.offsetHeight; return n.top + r * o + "px" } catch (t) { return Number(e.posY.split("p")[0]) } }(e, d) : n, f.classList = ["root-dot", "dot-" + l].join(" "), u.appendChild(f), j.a.render(Object(T.jsx)(v.a.StrictMode, { children: Object(T.jsx)($, { setShouldRender: be, disableClickEvent: he, posX: t, posY: n, showBoxInit: !1, stickyDotInit: "resolved" !== c && "resolved" !== le || le === c, comments: r, dotId: i, url: s, onClose: q, status: c, hideOnMouseLeave: !0, dotNumber: l, children: Object(T.jsx)(a, { comments: r, openPos: V(Number(e.posX.split("p")[0]), Number(e.posY.split("p")[0]), u) }) }) }), f)) }, be = function (e) { re = e }; t(); var he = function () { window.document.removeEventListener("click", ge) }, ge = function (e) { A(e, J) }, xe = function (e) { ie = e.name, ae = e.authorImageUrl, ce = e.email, ue = e.returnUser }; function we() { de(!0) } u(J), y(), t(); var ve, ye, je, ke, Oe = !(window.onscroll = function () { Ne(we, 500) }), Ne = function (e, t) { Oe || !re || fe || (Oe = !0, setTimeout((function () { e(), Oe = !1 }), t)) }; window.addEventListener("message", (function (e) { "http://localhost:3000" === e.origin && (E = "on-dot" === e.data.type ? E.filter((function (e) { return "on-dot" !== e.type })) : E).push({ type: e.data.type, data: e.data }) }), !1), setInterval((function () { E.forEach((function (e) { var t = e.type, n = e.data; (_[t] || []).forEach((function (e) { e(n) })) })), E = [] }), 700), r("status-change", (function (e) { e && e.status && (le = e.status) })), r("reset-from-store", we), window._fs_run_in_iframe = !0, window._fs_debug = !1, window._fs_host = "fullstory.com", window._fs_script = "edge.fullstory.com/s/fs.js", window._fs_org = "13B8FZ", window._fs_namespace = "FS", h = window, y = document, t = window._fs_namespace, ve = "user", t in h ? h.console && h.console.log && h.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].') : ((je = h[t] = function (e, t, n) { je.q ? je.q.push([e, t, n]) : je._api(e, t, n) }).q = [], (ye = y.createElement("script")).async = 1, ye.crossOrigin = "anonymous", ye.src = "https://" + window._fs_script, (ke = y.getElementsByTagName("script")[0]).parentNode.insertBefore(ye, ke), je.identify = function (e, t, n) { je(ve, { uid: e }, n), t && je(ve, t, n) }, je.setUserVars = function (e, t) { je(ve, e, t) }, je.event = function (e, t, n) { je("event", { n: e, p: t }, n) }, je.anonymize = function () { je.identify(!1) }, je.shutdown = function () { je("rec", !1) }, je.restart = function () { je("rec", !0) }, je.log = function (e, t) { je("log", [e, t]) }, je.consent = function (e) { je("consent", !arguments.length || e) }, je.identifyAccount = function (e, t) { ye = "account", (t = t || {}).acctId = e, je(ye, t) }, je.clearUserCookie = function () { }, je.setVars = function (e, t) { je("setVars", [e, t]) }, je._w = {}, ke = "XMLHttpRequest", je._w[ke] = h[ke], ke = "fetch", je._w[ke] = h[ke], h[ke] && (h[ke] = function () { return je._w[ke].apply(this, arguments) }), je._v = "1.3.0") } }, [[59, 1, 2]]]) }]);